/**
 * 共通ステータス型定義
 * 
 * LoLにおける全てのステータス種別を日本語表記で定義します。
 * これらの型は以下の用途で使用されます：
 * - アイテムの基本ステータス（basicStats）
 * - アビリティのスケーリング参照（abilityStats）
 * - 検索タグ
 * - その他のゲーム内ステータス表示
 */

// ============================================================================
// ステータス種別
// ============================================================================

/**
 * チャンピオンとアイテムで使用されるステータス種別
 * 日本語表記で統一
 */
export type ChampionStat =
  | '体力'
  | 'マナ'
  | '攻撃力'
  | '魔力'
  | '物理防御'
  | '魔法防御'
  | '移動速度'
  | '攻撃速度'
  | 'スキルヘイスト'
  | 'クリティカル率'
  | 'クリティカルダメージ'
  | '脅威'
  | '物理防御貫通'
  | '魔法防御貫通'
  | 'ライフ スティール'
  | '基本体力自動回復'
  | '基本マナ自動回復'
  | '回復効果およびシールド量'
  | '行動妨害耐性'
  | 'オムニヴァンプ'
  | '獲得ゴールド(10秒毎)'

/**
 * アイテムの検索タグ
 */
export type ItemTag = 
  | ChampionStat 
  | '通常攻撃時効果' 
  | '体力割合効果' 
  | 'クリティカル効果' 
  | 'アルティメットスキル強化'
  | '通常スキル強化'
  | '戦闘サポート'
  | '体力回復効果'
  | 'マナ回復効果'
  | '発動効果あり'
  | 'スロウ効果'
  | 'ステルス'
  | '視界'
  | '消費アイテム'
  | '初期購入アイテム'

/**
 * ステータスの参照元
 * - Total: 合計値（基礎値 + 増加値）
 * - Bonus: 増加値のみ（ルーンやアイテムによる増加分）
 * - Base: 基礎値のみ（チャンピオン固有の値）
 * - Current: 現在値（HPやマナの現在値）
 * - Missing: 減少値（最大値 - 現在値）
 */
export type StatSource = 'Total' | 'Bonus' | 'Base' | 'Current' | 'Missing'

/**
 * ステータス参照の対象
 * - Self: 自分自身のステータス
 * - Target: 対象のステータス
 */
export type TargetContext = 'Self' | 'Target'

// ============================================================================
// 基本ステータス型（アイテムのbasicStatsで使用）
// ============================================================================

/**
 * アイテムの基本ステータス
 * キーはステータス名、値は増加量
 * 
 * 使用例:
 * ```typescript
 * const itemStats: BasicStats = {
 *   '攻撃力': 55,
 *   '体力': 450,
 *   'スキルヘイスト': 20
 * }
 * ```
 */
export type BasicStats = Partial<Record<ChampionStat, number>>

// ============================================================================
// ユーティリティ関数
// ============================================================================

/**
 * ステータス名の配列を取得
 * UI表示やバリデーションに使用
 */
export const ALL_STATS: readonly ChampionStat[] = [
  '体力',
  'マナ',
  '攻撃力',
  '魔力',
  '物理防御',
  '魔法防御',
  '移動速度',
  '攻撃速度',
  'スキルヘイスト',
  'クリティカル率',
  'クリティカルダメージ',
  '脅威',
  '物理防御貫通',
  '魔法防御貫通',
  'ライフ スティール',
  '基本体力自動回復',
  '基本マナ自動回復',
  '回復効果およびシールド量',
  '行動妨害耐性',
  'オムニヴァンプ',
  '獲得ゴールド(10秒毎)',
] as const

/**
 * ステータス名が有効かどうかをチェック
 */
export function isValidStat(stat: string): stat is ChampionStat {
  return ALL_STATS.includes(stat as ChampionStat)
}
